{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '41701983-23ca5d5908e2c78927e8095f2';\n\nconst getBaseUrl = () => {\n  const url = new URL(BASE_URL);\n  url.searchParams.append(\"key\", API_KEY);\n  url.searchParams.append(\"image_type\", \"photo\");\n  url.searchParams.append(\"orientation\", \"horizontal\");\n  url.searchParams.append(\"safesearch\", true);\n\n  return url;\n}\nconst lightbox = new SimpleLightbox(\".gallery-item\");\nconst fetchImg = (query) => {\n  const url = getBaseUrl();\n  url.searchParams.append(\"q\", query);\n\n  return fetch(url)\n    .then((res) => {\n      if (!res.ok) {\n        throw new Error(`HTTP error! Status: ${res.status}`);\n      }\n      return res.json();\n    })\n    .then((data) => data.hits)\n    .catch((error) => {\n      console.error(`Error fetching images:`, error);\n      throw error;\n    });\n};\n\nconst renderGallery = (images) => {\n  const galleryContainer = document.getElementById(\"gallery\");\n  galleryContainer.innerHTML = \"\";\n\n  images.forEach((image) => {\n    const { webformatURL, largeImageURL, tags, likes, views, comments, downloads } = image;\n    galleryContainer.insertAdjacentHTML('beforeend', `\n    <li class=\"gallery-item\">\n    <a href=\"${largeImageURL}\">\n      <img src=\"${webformatURL}\" alt=\"${tags}\"/>\n    <a/>\n    <p>Likes: ${likes}<p/>\n    <p>view: ${views}<p/>\n    <p>comments: ${comments}<p/>\n    <p>downloads: ${downloads}<p/>\n    </li>\n    `\n    );\n  });\n\n  lightbox.refresh();\n};\n\nlet loader = document.getElementById(\"loader\");\nlet searchButton = document.getElementById(\"search-button\");\n\nconst showLoadingIndicator = () => {\n  loader.style.display = \"block\";\n\n  searchButton.disabled = true;\n};\n\nconst hideLoadingIndicator = () => {\n  loader.style.display = \"none\";\n\n  searchButton.disabled = false;\n};\n\nconst showMessage = (message, type = \"info\") => {\n  iziToast[type]({\n    title: message,\n    position: \"topCenter\",\n  });\n};\n\nconst handleSearchFormSubmit = (event) => {\n  event.preventDefault();\n\n  const searchInput = document.getElementById(\"search-input\");\n  const query = searchInput.value.trim();\n\n  if (query.length < 3) {\n    showMessage(\"Please enter a search query\", \"warning\");\n    return;\n  }\n\n  showLoadingIndicator();\n\n  fetchImg(query)\n    .then((images) => {\n      hideLoadingIndicator();\n      if (images.length > 0) {\n        renderGallery(images);\n      } else {\n        showMessage(\"Sorry, there are no images matching your search query. Please try again.\", \"error\");\n      }\n    })\n    .catch((error) => {\n      hideLoadingIndicator();\n      showMessage(\"Error fetching images. Pease try again later.\", \"error\");\n    });\n};\n\nconst searchForm = document.getElementById(\"form\");\nsearchForm.addEventListener(\"submit\", handleSearchFormSubmit);\n"],"names":["BASE_URL","API_KEY","getBaseUrl","url","lightbox","SimpleLightbox","fetchImg","query","res","data","error","renderGallery","images","galleryContainer","image","webformatURL","largeImageURL","tags","likes","views","comments","downloads","loader","searchButton","showLoadingIndicator","hideLoadingIndicator","showMessage","message","type","iziToast","handleSearchFormSubmit","event","searchForm"],"mappings":"6vBAKA,MAAMA,EAAW,2BACXC,EAAU,qCAEVC,EAAa,IAAM,CACvB,MAAMC,EAAM,IAAI,IAAIH,CAAQ,EAC5B,OAAAG,EAAI,aAAa,OAAO,MAAOF,CAAO,EACtCE,EAAI,aAAa,OAAO,aAAc,OAAO,EAC7CA,EAAI,aAAa,OAAO,cAAe,YAAY,EACnDA,EAAI,aAAa,OAAO,aAAc,EAAI,EAEnCA,CACT,EACMC,EAAW,IAAIC,EAAe,eAAe,EAC7CC,EAAYC,GAAU,CAC1B,MAAMJ,EAAMD,IACZ,OAAAC,EAAI,aAAa,OAAO,IAAKI,CAAK,EAE3B,MAAMJ,CAAG,EACb,KAAMK,GAAQ,CACb,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAM,uBAAuBA,EAAI,QAAQ,EAErD,OAAOA,EAAI,MACjB,CAAK,EACA,KAAMC,GAASA,EAAK,IAAI,EACxB,MAAOC,GAAU,CAChB,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACZ,CAAK,CACL,EAEMC,EAAiBC,GAAW,CAChC,MAAMC,EAAmB,SAAS,eAAe,SAAS,EAC1DA,EAAiB,UAAY,GAE7BD,EAAO,QAASE,GAAU,CACxB,KAAM,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,EAAGP,EACjFD,EAAiB,mBAAmB,YAAa;AAAA;AAAA,eAEtCG;AAAA,kBACGD,WAAsBE;AAAA;AAAA,gBAExBC;AAAA,eACDC;AAAA,mBACIC;AAAA,oBACCC;AAAA;AAAA,KAGpB,CACA,CAAG,EAEDjB,EAAS,QAAO,CAClB,EAEA,IAAIkB,EAAS,SAAS,eAAe,QAAQ,EACzCC,EAAe,SAAS,eAAe,eAAe,EAE1D,MAAMC,EAAuB,IAAM,CACjCF,EAAO,MAAM,QAAU,QAEvBC,EAAa,SAAW,EAC1B,EAEME,EAAuB,IAAM,CACjCH,EAAO,MAAM,QAAU,OAEvBC,EAAa,SAAW,EAC1B,EAEMG,EAAc,CAACC,EAASC,EAAO,SAAW,CAC9CC,EAASD,GAAM,CACb,MAAOD,EACP,SAAU,WACd,CAAG,CACH,EAEMG,EAA0BC,GAAU,CACxCA,EAAM,eAAc,EAGpB,MAAMxB,EADc,SAAS,eAAe,cAAc,EAChC,MAAM,KAAI,EAEpC,GAAIA,EAAM,OAAS,EAAG,CACpBmB,EAAY,8BAA+B,SAAS,EACpD,MACD,CAEDF,IAEAlB,EAASC,CAAK,EACX,KAAMK,GAAW,CAChBa,IACIb,EAAO,OAAS,EAClBD,EAAcC,CAAM,EAEpBc,EAAY,2EAA4E,OAAO,CAEvG,CAAK,EACA,MAAOhB,GAAU,CAChBe,IACAC,EAAY,gDAAiD,OAAO,CAC1E,CAAK,CACL,EAEMM,EAAa,SAAS,eAAe,MAAM,EACjDA,EAAW,iBAAiB,SAAUF,CAAsB"}